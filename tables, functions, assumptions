Projects tables
People: email, phone number, full name
Address People: email, city, street, house number
Reader: email(f.k), birth date, borrow history
Librarian: email(f.k), branch name, begin work date
Book: book id, book name, author, publisher, publish year
Books by branches: book id(f.k), branch name(f.k)
Branch: branch name, phone, address
Address Branch: branch name(f.k), city, street, house number
Copies: book id(f.k), branch name(f.k), amount, status (ordered / not-ordered)
Borrow: request id, email reader(f.k), email librarian (f.k), book id(f.k), branch name(f.k),  date of borrow, request type, status
Order: email reader(f.k), email librarian (f.k), book id(f.k), branch name(f.k), status, date of approve, date of request
My Books: email(f.k), book id(f.k), branch name(f.k), return date  (can show returned for history)

פונקציות ותכונות:
1.	רישום קורא: 
א.	מסמך רישום
ב.	השמה למחלקה של קורא
ג.	קישור לדאטאבייס

2.	רישום ספרן: 
א.	מסמך רישום
ב.	השמה למחלקה של ספרן
ג.	קישור לדאטאבייס

3.	הכנסת ספר:
א.	בדיקה אם הספר קיים במאגר כולו – שאילתת SQL בטבלת ספרים
i.	אם קיים נחפש בסניף הרלוונטי
ii.	אם לא קיים נוסיף למאגר הספרים וגם לסניף הרלוונטי בעותקים
ב.	בדיקה אם הספר קיים בסניף – שאילתת SQL בטבלת עותקים
i.	קיים – נשנה את הכמות
ii.	לא קיים נוסיף שורה חדשה בטבלת עותקים




4.	השאלת ספר:
א.	מנגנון קורא: בדיקה אם קיים הספר - שאילתת SQL בטבלת ספרים:
i.	במידה ולא קיים תעלה הודעה מתאימה
ii.	בדיקה באיזה סניף הספר קיים - שאילתת SQL בטבלת ספרים בסניפים
iii.	הכנסת בקשה למערכת להשאלה
ב.	מנגנון ספרן:
i.	קבלת כלל בקשות ההשאלה
ii.	אישור השאלה במידה והספר זמין במערכת
iii.	שינוי סטטוס הספר בטבלת עותקים

5.	פונקציית החזרת ספר:
א.	החזרת ספר על ידי קורא לסניף.
ב.	תעדכן את כמות הספרים בסניף
ג.	תעלה הודעה שהספר חזר במידה ומישהו הזמין אותו

6.	הספרים שלי והיסטוריית השאלות:
א.	שמירת כלל הספרים שהוחזרו עבור כל משתמש (אפשרות מימוש – מתודה בתוך המחלקה של קורא שתחזיק רשימה של הספרים שהושאלו)

7.	הספרים שלי
א.	תציג את טבלת הספרים שלי מתוך הדאטאבייס – עם כל הנתונים.
ב.	בהצגה זו נממש גם את היסטוריית הספרים (סטייל הצגת קורסים במודל) ע״י תנאי שאם תאריך ההחזרה עבר הספר יוצג ראשון מתחת לספרים שאצלי (עם צבע אחר ודהוי או פתרון אחר)

8.	בקשה להארכת השאלה:
א.	קורא:
i.	מגיש בקשת הארכה עבור ספר שנמצא ברשימת הספרים שלו (פונקציה מתוך דף הספרים שלי)
ii.	מקבל הודעת זמן החזרה 
ב.	ספרן:
i.	בודק אם קיימת הזמנה במערכת עבור הספר - שאילתת SQL בטבלת עותקים – האם קיים ספר בסטטוס זמין במלאי.
ii.	במידה וקיים ספר זמין מאשר את ההארכה בשבוע
iii.	מעדכן את זמן החזרת הספר בדאטאבייס בטבלת הספרים שלי עבור המשתמש
iv.	משנה את סטטוס הספר למוזמן בדאטאבייס בטבלת עותקים.

9.	חיפוש ספר:
א.	ניתן לחפש ספר לפי שם או מחבר - שאילתת SQL בטבלת ספרים עבור שם המחבר ושם  הספר – יתבצע ע״י join על טבלאות ספרים ועותקים (הגדרת חיפוש שונה בתאים שונים בממשק האתר)
ב.	במידה והספר קיים: 
i.	נבדוק באיזה סניף - שאילתת SQL בטבלת ספרים לפי סניפים
ii.	תעלה רשימת הספרים לפי סניפים והסטטוס שלהם (זמין או ניתן להזמין) הסניפים האפשריים
iii.	ביצוע הזמנה – שליחת בקשת הזמנה לסניף הרלוונטי
ג.	במידה והספר לא קיים:
i.	תעלה הודעה – הספר לא קיים במאגר

10.	הזמנת ספר:
א.	קורא:
i.	במהלך חיפוש ספרת במידה וקורא מעוניין להזמין ספר תוגש בקשת הזמנה לסניף מסוים.
ii.	תוצג הודעה שהבקשה להזמנה נשלחה
iii.	במידה והקורא הגיש כבר בקשה להזמנה והיא עוד לא נענתה / בהמתנה / הזמנה קיימת, הקורא לא יוכל לבצע הזמנה נוספת.
ב.	ספרן:
i.	תוצג לספרן בקשת הזמנה
ii.	במידה וקיים עותק שאינו מוזמן:
A.	הספרן יאשר את בקשת ההזמנה וישנה את סטטוס הספר בדאטאבייס בטבלת עותקים ל-׳מוזמן׳.
B.	תישלח לקורא המזמין הודעת: ׳בקשת ההזמנה אושרה׳
C.	הספרן יוריד את כמות המלאי הזמין ב-1
iii.	במידה ולא קיים עותק מוזמן:
A.	תישלח לקורא הודעה – ׳לא ניתן להזמין את הספר עקב ביקוש גבוה׳

11.	צפייה ברשימת ההזמנות


הנחות:
1.	נניח כי בעת הזמנת ספר ע״י קורא, המערכת תשלח בקשה להשאלה והיא תאושר רק אחרי שספרן יאשר אותה בצורה אקטיבית. לאחר אישור ההזמנה תופיע במסך של הקורא הודעה כי ההשאלה בוצעה בהצלחה.
2.	נניח כי ספר שהושאל מסניף מסוים יחזור אך ורק אליו.
3.	נניח כי קורא לא יחזיק ספר יותר מ- 14 יום. בנוסף, פעולת החזרת הספר תתבצע באופן אקטיבי ע״י הקורא עד היום ה-14 ובמידה והספר לא הוחזר ולא התקבלה הארכה היא תתבצע באופן אוטומטי.
4.	נניח שלא ניתן להזמין את אותו ספר יותר מפעם אחת ביום.



